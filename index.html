<!DOCTYPE html>
<html>
<head>
    <title>Counter</title>
    <script>
        function increment() {
            // Send a request to the server to increment the counter
            fetch('/increment', {method: 'POST'})
            .then(response => response.json())
            .then(data => {
                // Update the counter on the webpage
                document.getElementById('counter').innerHTML = data.counter;
            });
        }

        function refreshTextBoxes() {
            fetch('/text', {method: 'GET'})
            .then(response => response.json())
            .then(data => {
                // Create a bunch of <p> elements with each text box
                let textRoot = document.getElementById('text');

                // clear existing text boxes
                textRoot.innerHTML = '';
                for (let i = 0; i < data.text.length; i++) {
                    let text = data.text[i];
                    let p = document.createElement('p');
                    p.innerHTML = text.text;
                    textRoot.appendChild(p);
                }
            });
        }

        // after the page loads, call refreshTextBoxes() to get the initial setup
        window.onload = refreshTextBoxes;

    </script>
</head>
<body>
    <h1>Counter</h1>
    <p id="counter">0</p>
    <button onclick="increment()">Increment</button>
    <h1>Text</h1>
    <div id="text"></div>
</body>
</html>
